<% layout("/layouts/baseLayout") %>

<main class="prose">
  <h1 class="mb-0">Folders</h1>
  <p>Welcome back, <%= it.currentUser.firstName %>!</p>
  <a href="/folders/new" role="button" class="btn btn-primary btn-lg btn-outline">Add folder</a>

  <section class="mt-8">
    <% if (Array.isArray(it.folders) && it.folders.length) { %>
    <section class="flex items-center justify-between gap-4 not-prose">
      <% it.folders.forEach(folder => { %>
      <%~ include("partials/folderPreview", { folder }) %>
      <% }) %>
    </section>
    <% } %>
  </section>
</main>
<%~ include("partials/confirmModal", { modalId: "confirm_folder_delete_modal", heading: "Delete folder", text: "This will permanently delete the folder and all files inside it. This action cannot be undone.", buttons: { submitBtn: "Delete", cancelBtn: "Cancel" }}) %>
<script src="/js/foldersPageScript.js" defer></script>